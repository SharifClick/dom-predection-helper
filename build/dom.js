!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t),n.d(t,"default",function(){return o});var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,(n=[{key:"recursiveNodes",value:function(e){var t;return(t=e.nodeName&&e.parentNode&&e!==document.body?this.recursiveNodes(e.parentNode):new Array).push(e),t}},{key:"escapeCssNames",value:function(e){if(!e)return"";try{return e.replace(/\bselectorgadget_\w+\b/g,"").replace(/\\/g,"\\\\").replace(/[\#\;\&\,\.\+\*\~\'\:\"\!\^\$\[\]\(\)\=\>\|\/]/g,function(e){return"\\".concat(e)}).replace(/\s+/,"")}catch(t){return window.console&&(console.log("---"),console.log("exception in escapeCssNames"),console.log(e),console.log("---")),""}}},{key:"childElemNumber",value:function(e){var t;for(t=0;e.previousSibling&&(e=e.previousSibling);)1===e.nodeType&&t++;return t}},{key:"siblingsWithoutTextNodes",value:function(e){var t,n,r,o,s;for(t=[],o=0,s=(r=e.parentNode.childNodes).length;o<s;o++)if("#"!==(n=r[o]).nodeName.substring(0,1)){if(n===e)break;t.push(n)}return t}},{key:"pathOf",value:function(e){var t,n,r,o,s,i,l;for(r="",s=0,i=(l=this.recursiveNodes(e)).length;s<i;s++)if(t=l[s]){if(o=this.siblingsWithoutTextNodes(t),"body"!==t.nodeName.toLowerCase())for(n=o.length-2<0?0:o.length-2;n<o.length&&o[n]!==t;)o[n].nodeName.match(/^(script|#.*?)$/i)||(r+=this.cssDescriptor(o[n])+(n+1===o.length?"+ ":"~ ")),n++;r+="".concat(this.cssDescriptor(t)," > ")}return this.cleanCss(r)}},{key:"cssDescriptor",value:function(e){var t,n,r,o,s,i;if(r=e.nodeName.toLowerCase(),(n=e.id&&this.escapeCssNames(new String(e.id)))&&n.length>0&&(r+="#".concat(n)),e.className)for(o=0,s=(i="".concat(e.className).split(" ")).length;o<s;o++)t=i[o],n=this.escapeCssNames(t),t&&n.length>0&&(r+=".".concat(n));return"body"!==e.nodeName.toLowerCase()&&(r+=":nth-child(".concat(this.childElemNumber(e)+1,")")),r}},{key:"cssDiff",value:function(e){var t,n,r,o,s,i,l,a,c,u,h;try{o=new diff_match_patch}catch(e){throw"Please include the diff_match_patch library."}if(void 0===e||0===e.length)return"";for(i={},t=(s=this.encodeCssForDiff(e,i)).pop(),a=0,u=s.length;a<u;a++)for(n=s[a],r=o.diff_main(t,n),t="",c=0,h=r.length;c<h;c++)0===(l=r[c])[0]&&(t+=l[1]);return this.decodeCss(t,i)}},{key:"tokenizeCss",value:function(e){var t,n,r,o,s,i,l;for(n=!1,o="",r=[],s=0,i=(l=this.cleanCss(e)).length;s<i;s++)t=l[s],n?n=!1:"\\"===t?n=!0:"."!==t&&" "!==t&&"#"!==t&&">"!==t&&":"!==t&&","!==t&&"+"!==t&&"~"!==t||(o.length>0&&r.push(o),o=""),o+=t," "!==t&&","!==t||(r.push(o),o="");return o.length>0&&r.push(o),r}},{key:"tokenizeCssForDiff",value:function(e){var t,n,r,o,s,i;for(n=[],t=[],o=0,s=(i=this.tokenizeCss(e)).length;o<s;o++)r=i[o],t.push(r)," "===r&&t.length>0?(n=n.concat(t),t=[]):"+"!==r&&"~"!==r||(t=[t.join("")]);return t.length>0?n.concat(t):n}},{key:"decodeCss",value:function(e,t){var n,r,o,s,i;for(n=this.invertObject(t),r="",o=0,s=(i=e.split("")).length;o<s;o++)r+=n[i[o]];return this.cleanCss(r)}},{key:"encodeCssForDiff",value:function(e,t){var n,r,o,s,i,l,a,c,u,h;for(n=50,s=[],l=0,c=e.length;l<c;l++){for(o=e[l],r=new String,a=0,u=(h=this.tokenizeCssForDiff(o)).length;a<u;a++)t[i=h[a]]||(t[i]=String.fromCharCode(n++)),r+=t[i];s.push(r)}return s}},{key:"tokenPriorities",value:function(e){var t,n,r,o,s,i,l;for(.001,r=new Array,n=0,i=0,l=e.length;i<l;i++)t=(s=e[i]).substring(0,1),o=s.substring(1,2),":"===t&&"n"===o?r[n]=0:">"===t?r[n]=2:"+"===t||"~"===t?r[n]=3:":"!==t&&"."!==t&&"#"!==t&&" "!==t&&">"!==t&&"+"!==t&&"~"!==t?r[n]=4:"."===t?r[n]=5:(t="#")?(r[n]=6,s.match(/\d{3,}/)&&(r[n]=2.5)):r[n]=0,r[n]+=.001*n,n++;return r}},{key:"orderFromPriorities",value:function(e){var t,n,r,o,s,i,l;for(r=new Array,n=new Array,t=o=0,i=e.length;0<=i?o<i:o>i;t=0<=i?++o:--o)r[t]={value:e[t],original:t};for(r.sort(function(e,t){return e.value-t.value}),t=s=0,l=e.length;0<=l?s<l:s>l;t=0<=l?++s:--s)n[t]=r[t].original;return n}},{key:"simplifyCss",value:function(e,t,n){var r,o,s,i,l,a,c,u,h,f,g,p=this;for(c=this.tokenizeCss(e),u=this.tokenPriorities(c),l=this.orderFromPriorities(u),h=this.cleanCss(e),-1,r="",this.selectorGets("all",t,h)&&this.selectorGets("none",n,h)&&(r=h),s=!0;s;)for(s=!1,i=f=0,g=c.length;0<=g?f<g:f>g;i=0<=g?++f:--f)0!==c[a=l[i]].length&&(o=c[a].substring(0,1),c[a].substring(1,2)," "!==o&&(this.wouldLeaveFreeFloatingNthChild(c,a)||this._removeElements(a,c,o,function(e){return!!(p.selectorGets("all",t,e)&&p.selectorGets("none",n,e)&&(e.length<r.length||0===r.length))&&(r=e,s=!0,!0)})));return this.cleanCss(r)}},{key:"_removeElements",value:function(e,t,n,r){var o,s,i,l,a,c;for(s="+"===n||"~"===n?this.positionOfSpaceBeforeIndexOrLineStart(e,t):e,l=t.slice(s,e+1),o=a=s;s<=e?a<=e:a>=e;o=s<=e?++a:--a)t[o]="";if(""===(i=this.cleanCss(t.join("")))||!r(i))for(o=c=s;s<=e?c<=e:c>=e;o=s<=e?++c:--c)t[o]=l[o-s];return t}},{key:"positionOfSpaceBeforeIndexOrLineStart",value:function(e,t){var n;for(n=e;n>=0&&" "!==t[n];)n--;return n<0&&(n=0),n}},{key:"wouldLeaveFreeFloatingNthChild",value:function(e,t){var n,r,o;for(o=r=!1,n=t+1;n<e.length&&0===e[n].length;)n++;for(n<e.length&&":n"===e[n].substring(0,2)&&(r=!0),n=t-1;n>-1&&0===e[n].length;)n--;return(n<0||" "===e[n])&&(o=!0),o&&r}},{key:"cleanCss",value:function(e){var t,n;for(t=e,n=null;n!==t;)n=t,t=t.replace(/(^|\s+)(\+|\~)/,"").replace(/(\+|\~)\s*$/,"").replace(/>/g," > ").replace(/\s*(>\s*)+/g," > ").replace(/,/g," , ").replace(/\s+/g," ").replace(/^\s+|\s+$/g,"").replace(/\s*,$/g,"").replace(/^\s*,\s*/g,"").replace(/\s*>$/g,"").replace(/^>\s*/g,"").replace(/[\+\~\>]\s*,/g,",").replace(/[\+\~]\s*>/g,">").replace(/\s*(,\s*)+/g," , ");return t}},{key:"getPathsFor",value:function(e){var t,n,r,o;for(n=[],r=0,o=e.length;r<o;r++)(t=e[r])&&t.nodeName&&n.push(this.pathOf(t));return n}},{key:"predictCss",value:function(e,t){var n,r,o,s,i,l,a;if(0===e.length)return"";if(o=this.getPathsFor(e),n=this.cssDiff(o),(s=this.simplifyCss(n,e,t)).length>0)return s;for(i="",l=0,a=e.length;l<a;l++)r=e[l],i="".concat(this.pathOf(r),", ").concat(i);return i=this.cleanCss(i),console.log(i),this.simplifyCss(i,e,t)}},{key:"selectorGets",value:function(e,t,n){if(0===t.length&&"all"===e)return!1;if(0===t.length&&"none"===e)return!0;try{return"all"===e?0===t.not(n).length:!t.is(n)}catch(e){throw window.console&&console.log("Error on selector: ".concat(n)),e}}},{key:"invertObject",value:function(e){var t,n;for(t in n={},e)n[e[t]]=t;return n}},{key:"cssToXPath",value:function(e){var t,n,r,o,s,i;for((o=this.tokenizeCss(e))[0]&&" "===o[0]&&o.splice(0,1),o[o.length-1]&&" "===o[o.length-1]&&o.splice(o.length-1,1),t=[],n="",s=0,i=o.length;s<i;s++)" "===(r=o[s])?(n+=this.cssToXPathBlockHelper(t),t=[]):t.push(r);return n+this.cssToXPathBlockHelper(t)}},{key:"cssToXPathBlockHelper",value:function(e){var t,n,r,o,s,i,l,a,c,u,h;if(0===e.length)return"//";if(s="//",","===(r=e[0].substring(0,1)))return" | ";for(":"!==r&&"#"!==r&&"."!==r||(s+="*"),n=[],i=null,a=0,u=e.length;a<u;a++)r=(t=e[a]).substring(0,1),l=t.substring(1),":"===r?(i=l.match(/^nth-child\((\d+)\)$/))&&n.push("(((count(preceding-sibling::*) + 1) = ".concat(i[1],") and parent::*)")):"."===r?n.push('contains(concat( " ", @class, " " ), concat( " ", "'.concat(l,'", " " ))')):"#"===r?n.push('(@id = "'.concat(l,'")')):","===r||(s+=t);for(n.length>0&&(s+="["),o=c=0,h=n.length;0<=h?c<h:c>h;o=0<=h?++c:--c)s+=n[o],o<n.length-1&&(s+=" and ");return n.length>0&&(s+="]"),s}}])&&r(t.prototype,n),o&&r(t,o),e}()}]);